<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="//字符串  //SAM struct node {     node *f,*nex[26];     int ml,size,first;     node () { ml = size = first = 0; } } pool[maxn],*tail, *init, *rank[maxn];  void add(int ch,int len) {     node *p = tail, *">
<meta property="og:type" content="article">
<meta property="og:title" content="模板">
<meta property="og:url" content="http://totoro97.github.io/2015/07/27/模板/index.html">
<meta property="og:site_name" content="Totoro97">
<meta property="og:description" content="//字符串  //SAM struct node {     node *f,*nex[26];     int ml,size,first;     node () { ml = size = first = 0; } } pool[maxn],*tail, *init, *rank[maxn];  void add(int ch,int len) {     node *p = tail, *">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2016-02-22T08:46:26.741Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="模板">
<meta name="twitter:description" content="//字符串  //SAM struct node {     node *f,*nex[26];     int ml,size,first;     node () { ml = size = first = 0; } } pool[maxn],*tail, *init, *rank[maxn];  void add(int ch,int len) {     node *p = tail, *">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://totoro97.github.io/2015/07/27/模板/"/>





  <title>模板 | Totoro97</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Totoro97</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://totoro97.github.io/2015/07/27/模板/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Totoro97">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Totoro97">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">模板</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-07-27T09:46:05+08:00">
                2015-07-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <pre><code>//字符串

//SAM
struct node {
    node *f,*nex[26];
    int ml,size,first;
    node () { ml = size = first = 0; }
} pool[maxn],*tail, *init, *rank[maxn];

void add(int ch,int len) {
    node *p = tail, *np = &amp;pool[++tot];
    np -&gt; ml = len;
    for (; p &amp;&amp; !p -&gt; nex[ch]; p = p -&gt; f) p -&gt; nex[ch] = np;
    tail = np;
    if (!p) np -&gt; f = init;
    else {
        if (p -&gt; nex[ch] -&gt; ml == p -&gt; ml + 1) np -&gt; f = p -&gt; nex[ch];
        else {
            node *q = p -&gt; nex[ch], *just = &amp;pool[++tot];
            *just = *q;
            just -&gt; ml = p -&gt; ml + 1;
            q -&gt; f = np -&gt; f = just;
            for (; p &amp;&amp; p -&gt; nex[ch] == q; p = p -&gt; f) p -&gt; nex[ch] = just;
        }
    }
}

//后缀数组
void get_suffix() {
    int i,j;
    for (i = 1; i &lt;= top; i++) rank[i] = s[i] - &apos;a&apos; + 1;
    for (i = 1; i &lt;= top; i++) wp[rank[i]]++;
    for (i = 1; i &lt;= 30; i++) wp[i] += wp[i - 1];
    for (i = top; i; i--) SA[wp[rank[i]]--] = i;
    int u,q;
    for (q = 1; q &lt; top; q &lt;&lt;= 1) {
        memset(wp,0,sizeof(wp));
        memcpy(SA_,SA,sizeof(SA));
        for (i = 1; i &lt;= top; i++) wp[rank[i]]++;
        for (i = 1; i &lt;= top; i++) wp[i] += wp[i - 1];
        for (i = top; i; i--)
            if (SA_[i] &gt; q) SA[wp[rank[SA_[i] - q]]--] = SA_[i] - q;
        for (i = top - q + 1; i &lt;= top; i++) SA[wp[rank[i]]--] = i;
        memcpy(rank_,rank,sizeof(rank));
        rank[SA[1]] = u = 1;
        for (i = 2; i &lt;= top; i++) {
            if (judge(rank_,SA[i],SA[i - 1],q)) rank[SA[i]] = u;
            else rank[SA[i]] = ++u;
        }
    }
}

void get_height() {
    for (i = 1; i &lt;= top; i++) {
        if (rank[i] == 1) { H[rank[i]] = 0; continue; }
        H[rank[i]] = max(H[rank[i - 1]] - 1,0);
        while (s[i + H[rank[i]]] == s[SA[rank[i] - 1] + H[rank[i]]]) H[rank[i]]++;
    }
}

//扩展 KMP
void exkmp(char *A,char *B,int *nex,int *ex) {
    La = strlen(A); Lb = strlen(B);
    nex[0] = Lb;
    for (int i = 1,j = -1,p,a; i &lt; Lb; i++, j--) {
        if (j &lt; 0 || i + nex[i ­ a] &gt;= p) {
            if (j &lt; 0) j = 0, p = i;
            while (p &lt; Lb &amp;&amp; j &lt; Lb &amp;&amp; B[p] == B[j]) j++, p++;
            nex[i] = j, a = i;
        }
        else nex[i] = nex[i - a];
    }
    for (int i = 0,j = -1,p,a; i &lt; La; i++, j--) {
        if (j &lt; 0 || i + nex[i - a] &gt;= p) {
            if (j &lt; 0) j = 0, p = i;
            while (p &lt; La &amp;&amp; j &lt; Lb &amp;&amp; A[p] == B[j]) j++, p++;
            ex[i] = j, a = i;
        }
        else ex[i] = nex[i - a];
    }
}

//最小表示法
void zxbx(char *s,char *ans) {
    int L = strlen(s);
    int i,j,cot;    
    for (i = 0,j = 1,cot = 0; cot &lt; L &amp;&amp; i &lt; L &amp;&amp; j &lt; L; ) {
        if (s[(i + cot) % L] == s[(j + cot) % L]) cot++;
        else {
            if (s[(i + cot) % L] &gt; s[(j + cot) % L]) i += cot + 1;
            else j += cot + 1;
            if (i == j) j = i + 1;
            cot = 0;
        }
    }
    int p = min(i,j);
    for (i = p; i &lt; L; i++) ans[i ­ p] = s[i];
    for (i = 0; i &lt; p; i++) ans[L ­ p + i] = s[i];
    return;
}

//计算几何
struct point {
    double x,y;
    point(double x = 0,double y = 0) : x(x), y(y) {}
};

int sig(double a) {
    return (a &lt; -eps ? -1 : (a &gt; eps));
}

//默认vector 就是 point ,就不typedef了
point operator + (point a,point b) { return point(a.x + b.x,a.y + b.y); }
point operator - (point a,point b) { return point(a.x - b.x,a.y - b.y); }
point operator * (point a,double p) { return point(a.x * p,a.y * p); }
point operator / (point a,double p) { return point(a.x / p,a.y / p); }
double operator * (point a,point b) { return a.x * b.x + a.y * b.y; } // 点积
double operator / (point a,point b) { return a.x * b.y - a.y * b.x; } // 叉积 b在a左边叉积 &gt; 0
bool operator == (const point &amp;a,const point &amp;b) {
    return !sig(a.x - b.x) &amp;&amp; !sig(a.y - b.y);
}

double length(point a) { return sqrt(a * a); } // 求向量长度
double angle(point a,point b) { return acos(a * b / length(a) / length(b)); } // 两向量夹角（弧度）
//向量旋转||旋转坐标系
point rotate(point a,double rad) {
    return point(a.x * cos(rad) - a.y * sin(rad),a.x * sin(rad) + a.y * cos(rad));
} // cos - sin, sin + cos....好记

//----------------直线相关-----------------
//直线的参数法表示：
struct line {
    point p,v; // 直线上任意一点x 满足 x = p + v * t;
};
// 直线求交
point cross_line(line a,line b) {
    point u = a.p - b.p;
    if (!sig(a.v / b.v)) return point(INF,INF);
    double t = (b.v / u) / (a.v / b.v);
    return a.p + a.v * t;
}
// 点到直线的距离 -&gt; 叉积得到的有向面积除以底
double dis_dot_line(point p,line A) {
    point a = A.p,b = A.p + A.v;
    point v1 = b - a, v2 = p - a;
    return fabs((v1 / v2) / length(v1));
}
// 点到线段的距离 分三种情况考虑
double dis_dot_seg(point p,point a,point b) {
    if (a == b) return length(p - a);
    point v1 = b - a,v2 = p - a,v3 = p - b;
    if (sig(v1 * v2) &lt; 0) return length(v2);
    else if (sig(v1 * v2) &gt; 0) return length(v3);
    else return fabs((v1 / v2) / length(v1));
}
//点在直线上的投影点 列方程求解
point dot_projection(point a,line b) {
    return b.p + b.v * ((b.v * (a - b.p)) / (b.v * b.v));
}
//计算多边形的有向面积--虽替！
double count_s(point *p,int n) {
    double ans = 0;
    for (int i = 1; i &lt; n; i++) ans += p[i] / p[i + 1];
    ans += p[n] / p[1];
    return fabs(ans / 2.0);
}


// Link-Cut-Tree &amp;&amp; splay

bool home(int u) { return (fa[u] &amp;&amp; (kid[fa[u]][0] == u || kid[fa[u]][1] == u)); } 
// 判断是不是根. 是根返回false.

void rotate(int u) {
    int f = fa[u]; int k = (kid[f][0] == u);
    fa[u] = fa[f];
    if (fa[f] &amp;&amp; kid[fa[f]][0] == f) kid[fa[f]][0] = u;
    else if (fa[f] &amp;&amp; kid[fa[f]][1] == f) kid[fa[f]][1] = u;
    kid[f][k ^ 1] = kid[u][k];
    if (kid[u][k]) fa[kid[u][k]] = f;
    fa[f] = u; kid[u][k] = f;
    update(f);
}

void splay(int u) {
    int f,ff;
    while (home(u)) {
        f = fa[u]; ff = fa[f];
        if (home(f) &amp;&amp; !((kid[f][0] == u) ^ (kid[ff][0] == f))) rotate(f);
        rotate(u);
    }
    update(u);
}

void access(int u) {
    int v = 0;
    for ( ; u; u = fa[u]) {
        splay(u);
        kid[u][1] = v;
        update(v = u);
    }
}

//merge-split treap

#define Pair pair&lt;int,int&gt;

int build(int L,int R) {
    if (L == R) { f[L] = 0; g[L] = 0; size[L] = 1; return L; }
    int u = 0;
    for (int i = L; i &lt;= R; i++) if (dot[i].key &gt; dot[u].key) u = i;
    if (u &gt; L) ls[u] = build(L,u - 1);
    if (u &lt; R) rs[u] = build(u + 1,R);    
    update(u);
    return u;
}

int merge(int a,int b) {
    if (!a || !b) return a | b;
    if (dot[a].kay &gt; dot[b].key) {
        rs[a] = merge(rs[a],b);
        update(a); return a;
    }
    else {
        ls[b] = merge(a,ls[b]);
        update(b); return b;
    }
}

Pair split(int a,int k) {
    if (!k) return make_pair(0,a);
    if (k == size[a]) return make_pair(a,0);

    if (k == size[ls[a]]) {
        int b = ls[a]; ls[a] = 0;
        update(a); update(b);
        return make_pair(b,a);
    } else if (k &lt; size[ls[a]]) {
        Pair p = split(ls[a],k);
        ls[a] = p.second;
        update(a);
        p.second = a;
        return p;
    } else if (k == size[ls[a]] + 1) {
        int b = rs[a]; rs[a] = 0;
        update(a);
        return make_pair(a,b);
    } else {
        Pair p = split(rs[a],k - size[ls[a]] - 1);
        rs[a] = p.first;
        update(a);
        p.first = a;
        return p;
    }
}

//FFT

#include &lt;complex&gt;

typedef complex &lt;double&gt; comp;
const double pi = acos(-1.0);}
</code></pre>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/07/26/BestCoder-1st-Anniversary-解题报告/" rel="next" title="BestCoder_1st_Anniversary_解题报告">
                <i class="fa fa-chevron-left"></i> BestCoder_1st_Anniversary_解题报告
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/07/27/CodeForces-313-解题报告/" rel="prev" title="CodeForces_#313_解题报告">
                CodeForces_#313_解题报告 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <p class="site-author-name" itemprop="name">Totoro97</p>
            <p class="site-description motion-element" itemprop="description">Hello</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">26</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Totoro97</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
